<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<meta name="keywords" content="9p, 9p2000, research, Plan 9, Inferno, Unix, Open Source, Bell Labs" />
	<meta name="description" content="Open source distributed operating system Plan 9 from Bell Labs." />
	<link rel="stylesheet" href="/wiki-style.css" media="all" type="text/css" />
	<title>How to contribute (Plan 9 wiki)</title>
</head>
<body>
<h1><a name="top"></a>
How to contribute</h1>

<div class='body'> <!-- ***************************** -->


<a name="PATCH" /><h3>PATCH</h3>

<p class='para'>
The
tool
used
to
submit
changes
to
the
Plan
9
distribution
is
called
<a href="http://plan9.bell-labs.com/magic/man2html/1/patch"><i>patch</i>(1)</a>
(not
to
be
confused
with
the
unix
tool
of
the
same
name.)
</p>

<p class='para'>
Patches
are
processed
by
the
maintainers
at
Bell
Labs
(typically
geoff
or
jmk).
When
sending
a
patch,
follow
these
guidelines:
</p>

<ul>

<li>
If
this
is
a
bug
fix,
explain
the
bug
clearly.
Don't
assume
the
bug
is
obvious
from
the
fix.
</li>

<li>
If
this
is
a
new
feature,
explain
it
clearly.
Don't
assume
it
is
obvious
from
the
change.
</li>

<li>
Make
the
new
code
look
as
much
like
the
old
code
as
possible:
don't
make
gratuitous
changes
and
follow
the
style
of
the
old
code.
See
CODING
STYLE
below.
</li>

<li>
If
necessary,
update
the
manual
page.
</li>
</ul>

<p class='para'>
If
you
use
patch/email
to
attach
an
email
address
to
the
patch,
that
address
will
be
mailed
when
the
patch
is
either
applied
or
rejected.
If
the
latter,
the
email
will
contain
a
note
explaining
why
and
probably
listing
suggested
changes
and
encouraging
you
to
resubmit.
</p>

<p class='para'>
An
archive
of
all
submitted
patches
is
in
/n/sources/patch.
</p>

<a name="SOURCES/CONTRIB" /><h3>SOURCES/CONTRIB</h3>

<p class='para'>
If
you
have
Plan
9-related
code
you
would
like
to
publish
but
not
submit
(yet?)
to
be
part
of
the
main
distribution,
you
can
place
it
in
your
own
directory
in
/n/sources/contrib.
</p>

<p class='para'>
To
get
your
own
directory
under
/n/sources/contrib,
mail
contrib@plan9.bell-labs.com.
</p>

<p class='para'>
Once
you
have
your
own
directory
under
/n/sources/contrib,
you
can
use
<pre>
srv -q tcp!sources.cs.bell-labs.com sources /n/sources
</pre>
to
connect
to
sources,
and
then
just
copy
your
file(s)
to
your
directory.
By
the
way,
don't
forget
to
create
an
INDEX
file
to
describe
your
upload,
so
it
will
be
auto-indexed.
</p>

<p class='para'>
See
also
<a href="../Contrib">Contrib</a>
and
<a href="../Contrib_index">Contrib
index</a>
</p>

<a name="TIPS_FOR_CONTRIBUTING_TO_PLAN_9" /><h3>TIPS FOR CONTRIBUTING TO PLAN 9</h3>

<p class='para'>
Find
something
you're
interested
in
doing.
If
it's
a
big
project,
it
is
worth
it
mailing
9fans
first,
just
to
see
if
anyone
else
is
already
working
on
such
a
thing
or
knows
why
it
hasn't
already
been
done.
</p>

<p class='para'>
Do
it.
</p>

<p class='para'>
Submit
it
via
<a href="http://plan9.bell-labs.com/magic/man2html/1/patch"><i>patch</i>(1)</a>.
</p>

<p class='para'>
The
patch
may
well
come
back
in
the
"sorry"
category
rather
than
the
"applied"
category,
with
suggestions
on
what
should
be
changed
to
make
it
better
and
a
request
to
resubmit
it.
This
doesn't
mean
you
should
give
up.
It
means
you
did
a
good
job
and
the
maintainers
think
it's
worth
trying
to
get
you
to
make
the
job
even
better.
Remember:
you
can't
polish
a
turd.
</p>

<p class='para'>
If
the
patch
does
get
applied
but
you
notice
that
the
code
has
been
edited
and
is
not
exactly
what
you
submitted,
the
same
comment
still
applies.
Look
at
the
diffs
and
understand
why
the
changes
were
made.
Remember:
you
can't
polish
a
turd.
</p>

<a name="CODING_STYLE" /><h3>CODING STYLE</h3>

<p class='para'>
Plan
9
C
code
has
its
own
conventions,
documented
in
<a href="http://plan9.bell-labs.com/magic/man2html/6/style"><i>style</i>(6)</a>.
You
would
do
well
to
follow
them.
Here
are
a
few:
<ul>

<li>
don't
use
//
comments;
some
old
Plan
9
code
does,
but
we're
converting
it
as
we
touch
it.
We
do
sometimes
use
//
to
comment-out
a
few
lines
of
code.
</li>

<li>
avoid
gotos.
</li>

<li>
no
tabs
expanded
to
spaces.
</li>

<li>
no
white
space
before
opening
braces.
</li>

<li>
no
white
space
after
the
word
"if",
"for",
"while",
etc.
</li>

<li>
no
braces
around
single-line
blocks
(e.g.,
if,
for,
and
while
bodies).
</li>

<li>
integer-valued
functions
return
-1
on
error,
0
or
positive
on
success.
</li>

<li>
functions
that
return
errors
should
set
<a href="http://plan9.bell-labs.com/magic/man2html/2/errstr"><i>errstr</i>(2)</a>.
</li>

<li>
variable
and
function
names
are
all
lowercase,
with
no
underscores.
</li>

<li>
enum
or
#defined
constants
should
be
Uppercase
or
UPPERCASE.
</li>

<li>
struct
tags
are
Uppercase,
with
matching
typedefs.
</li>

<li>
automatic
variables
(local
variables
inside
a
function)
are
never
initialized
at
declaration.
</li>

<li>
follow
the
standard
idioms:
use
x&lt;0
not
0&gt;x,
etc.
</li>
</ul>

</p>

<p class='para'>
Ultimately,
the
goal
is
to
write
code
that
fits
in
with
the
other
code
around
it
and
the
system
as
a
whole.
If
the
file
you
are
editing
already
deviates
from
these
guidelines,
do
what
it
does.
After
you
edit
a
file,
a
reader
should
not
be
able
to
tell
just
from
coding
style
which
parts
you
worked
on.
</p>

<a name="COMMENTS" /><h3>COMMENTS</h3>

<p class='para'>
If
your
code
is
readable,
you
shouldn't
need
many
comments.
A
line
or
two
comment
above
a
function
explaining
what
it
does
is
always
welcome.
</p>

<p class='para'>
Comment
any
code
you
find
yourself
wondering
about
for
more
than
2
seconds,
even
if
it's
to
say
that
you
don't
understand
what's
going
on.
Explain
why.
</p>

<p class='para'>
Don't
use
commenting
as
an
excuse
for
writing
confusing
code.
Rewrite
the
code
to
make
it
clear.
</p>

<a name="EFFICIENCY" /><h3>EFFICIENCY</h3>

<p class='para'>
Do
the
simple
thing.
Don't
optimize
unless
you've
measured
the
code
and
it
is
too
slow.
Fix
the
data
structures
and
the
algorithms
instead
of
going
for
little
5%
tunings.
</p>

<a name="SEE_ALSO" /><h3>SEE ALSO</h3>

<ul>

<li>
<a href="http://doc.cat-v.org/bell_labs/pikestyle">"Notes
on
Programming
in
C"
by
Rob
Pike</a>,
<a href="http://www.literateprogramming.com/pikestyle.pdf">pdf</a>)
</li>

<li>
<a href="http://swtch.com/~rsc/worknotes/">Notes
on
Programming
Projects</a>
-
by
Russ
Cox
</li>

<li>
<a href="http://harmful.cat-v.org/cat-v/">Program
Design
in
the
UNIX
Environment
by
Rob
Pike
and
Brian
Kernighan</a>
(AKA
"cat
-v
considered
harmful")
</li>

<li>
<a href="http://doc.cat-v.org/plan_9/4th_edition/papers/comp">How
to
Use
the
Plan
9
C
Compiler</a>
-
Introduction
to
the
Plan
9
developement
environment,
not
only
the
compilers,
but
the
libraries,
build
(<a href="http://plan9.bell-labs.com/magic/man2html/1/mk"><i>mk</i>(1)</a>)
and
debugging
(<a href="http://plan9.bell-labs.com/magic/man2html/1/acid"><i>acid</i>(1)</a>)
tools.
</li>

<li>
<a href="http://cm.bell-labs.com/cm/cs/tpop/index.html">The
Practice
of
Programming</a>
by
Brian
W.
Kernighan
and
Rob
Pike.
ISBN
0-201-61586-X.
</li>
</ul>


</div> <!-- ***************************** -->

<hr class='banner_sep' />

<div class='banner'>
<ul>
	<li><a href="../plan_9_wiki/">Wiki</a></li>
	<li><a href="../Documentation/">Docs</a></li>
	<li><a href="../news/">News</a></li>
	<li><a href="../development/">Devel</a></li>
	<li><a href="../papers/">Papers</a></li>
	<li><a href="../download/">Download</a></li>

</ul>
</div>

<hr class='footer_sep' />

<div class='footer'>
<a href="history.html">History</a> -
<a href="diff.html">Diff</a> - 
<a href="#top">Top of this page</a> -
<span class='last_mod'>Last modified Wed Apr 28 09:32:53 EDT 2010</span> 
<br />
	<div class='about_wiki'>
<a href="http://plan9.bell-labs.com/plan9"><img align="middle" src="http://plan9.bell-labs.com/plan9/img/power36.gif" alt="Powered by Plan 9" /></a>
	<a href="../about.html">About this Wiki</a>
	</div>


</div>

</body></html>
	<!-- <a href="http://plan9.bell-labs.com/plan9dist/glenda.html"><img align="middle" src="http://plan9.bell-labs.com/plan9dist/img/9logo.jpg" alt="Glenda" /></a> -->
